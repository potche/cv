(function($){var defaults={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:false,getWidthFrom:""},$window=$(window),$document=$(document),sticked=[],windowHeight=$window.height(),scroller=function(){var scrollTop=$window.scrollTop(),documentHeight=$document.height(),dwh=documentHeight-windowHeight,extra=(scrollTop>dwh)?dwh-scrollTop:0;for(var i=0;i<sticked.length;i++){var s=sticked[i],elementTop=s.stickyWrapper.offset().top,etse=elementTop-s.topSpacing-extra;if(scrollTop<=etse){if(s.currentTop!==null){s.stickyElement.css("position","").css("top","");s.stickyElement.parent().removeClass(s.className);s.currentTop=null}}else{var newTop=documentHeight-s.stickyElement.outerHeight()-s.topSpacing-s.bottomSpacing-scrollTop-extra;if(newTop<0){newTop=newTop+s.topSpacing}else{newTop=s.topSpacing}if(s.currentTop!=newTop){s.stickyElement.css("position","fixed").css("top",newTop);if(typeof s.getWidthFrom!=="undefined"){s.stickyElement.css("width",$(s.getWidthFrom).width())}s.stickyElement.parent().addClass(s.className);s.currentTop=newTop}}}},resizer=function(){windowHeight=$window.height()},methods={init:function(options){var o=$.extend(defaults,options);return this.each(function(){var stickyElement=$(this);stickyId=stickyElement.attr("id");wrapper=$("<div></div>").attr("id",stickyId+"-sticky-wrapper").addClass(o.wrapperClassName);stickyElement.wrapAll(wrapper);if(o.center){stickyElement.parent().css({width:stickyElement.outerWidth(),marginLeft:"auto",marginRight:"auto"})}if(stickyElement.css("float")=="right"){stickyElement.css({"float":"none"}).parent().css({"float":"right"})}var stickyWrapper=stickyElement.parent();stickyWrapper.css("height",stickyElement.outerHeight());sticked.push({topSpacing:o.topSpacing,bottomSpacing:o.bottomSpacing,stickyElement:stickyElement,currentTop:null,stickyWrapper:stickyWrapper,className:o.className,getWidthFrom:o.getWidthFrom})})},update:scroller};if(window.addEventListener){window.addEventListener("scroll",scroller,false);window.addEventListener("resize",resizer,false)}else{if(window.attachEvent){window.attachEvent("onscroll",scroller);window.attachEvent("onresize",resizer)}}$.fn.sticky=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof method==="object"||!method){return methods.init.apply(this,arguments)}else{$.error("Method "+method+" does not exist on jQuery.sticky")}}};$(function(){setTimeout(scroller,0)})})(jQuery);$(document).ready(function(){$("nav").sticky({topSpacing:0})});var MorphingDevice=function(el,settings){var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},transEndEventName=transEndEventNames[Modernizr.prefixed("transition")],slideshow,isSlideshowRunning=false,device=el.querySelector("div.md-device"),current=0,rotated=false,rotateDevice=document.createElement("button"),img=device.querySelector("a > img");function init(){rotateDevice.style.display="none";rotateDevice.onclick=function(){stopSlideshow();device.className=rotated?device.className.replace(/\b md-rotated\b/,""):device.className+" md-rotated";var newsrc=rotated?settings.devices[current].imgsrc:settings.devices[current].rotatedsrc;changeImages(newsrc);rotated=!rotated;return false};device.appendChild(rotateDevice);var visProp=getHiddenProp();if(visProp){var evtname=visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(evtname,function(){if(isSlideshowRunning){isHidden()?(stopSlideshow(),isSlideshowRunning=true):startSlideshow()}})}}function changeDevice(){device.className="md-device "+settings.devices[current].cName;rotated=false;rotateDevice.style.display=settings.devices[current].canRotate?"":"none";changeImages(settings.devices[current].imgsrc)}function changeImages(newsrc){var imgwrapper=img.parentNode,newimg=document.createElement("img");newimg.setAttribute("src",newsrc);if(imgwrapper.childNodes.length>1){imgwrapper.removeChild(imgwrapper.firstChild)}imgwrapper.insertBefore(newimg,img);img.className="md-fadeout";img.addEventListener(transEndEventName,function(event){img=newimg;if(this.parentNode!=null){this.parentNode.removeChild(this)}},false)}function startSlideshow(){isSlideshowRunning=true;runSlideshow()}function runSlideshow(){slideshow=setTimeout(function(){var pos=current<devicesTotal-1?current+1:0;updateCurrentTrigger(nav.children[pos]);current=pos;changeDevice();if(settings.autoplay){runSlideshow()}},settings.interval)}function stopSlideshow(){isSlideshowRunning=false;clearTimeout(slideshow)}function setCurrent(c){current=c}function getCurrent(){return current}function updateCurrentTrigger(trigger){var triggers=nav.children;triggers[current].className=triggers[current].className.replace(/\bmd-current\b/,"");trigger.className="md-current"}init();return{init:init,setCurrent:setCurrent,getCurrent:getCurrent,changeDevice:changeDevice,startSlideshow:startSlideshow,stopSlideshow:stopSlideshow,updateCurrentTrigger:updateCurrentTrigger}};function getHiddenProp(){var prefixes=["webkit","moz","ms","o"];if("hidden" in document){return"hidden"}for(var i=0;i<prefixes.length;i++){if((prefixes[i]+"Hidden") in document){return prefixes[i]+"Hidden"}}return null}function isHidden(){var prop=getHiddenProp();if(!prop){return false}return document[prop]}
(function(window){function classReg(className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)")}var hasClass,addClass,removeClass;if("classList" in document.documentElement){hasClass=function(elem,c){return elem.classList.contains(c)};addClass=function(elem,c){elem.classList.add(c)};removeClass=function(elem,c){elem.classList.remove(c)}}else{hasClass=function(elem,c){return classReg(c).test(elem.className)};addClass=function(elem,c){if(!hasClass(elem,c)){elem.className=elem.className+" "+c}};removeClass=function(elem,c){elem.className=elem.className.replace(classReg(c)," ")}}function toggleClass(elem,c){var fn=hasClass(elem,c)?removeClass:addClass;fn(elem,c)}window.classie={hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,has:hasClass,add:addClass,remove:removeClass,toggle:toggleClass}})(window);